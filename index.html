<script src="jquery.js"></script>
<script src="expression.js"></script>

<style>
	html {
	  box-sizing: border-box;
	  margin: 0;
	  padding: 0;
	}

	*, *:before, *:after {
	  box-sizing: inherit;
	}

	.expr-ui-list dt,
	.expr-ui-list dd {
		padding: 0;
		margin: 0;
		display: block;
		line-height: 24px;
		float: left;
		min-height: 24px;
	}

	.expr-ui-list dt {
		width: 20%;
		padding-right: 20px;
		text-align: right;
		font-weight: 600;
	}

	.expr-ui-list dd {
		width: 80%;
	}

	#expr-input {
		width: 600px;
		max-width: 600px;
		min-height: 125px;
		display: block;
	}

	#expr-calc {
		margin: 10px 0;
		font-size: 18px;
	}

	canvas {
		display: block;
		background: #eee;
	}
</style>

<script>

	$( function() {

		$('#expr-calc').on('click', function(e) {
			e.preventDefault();

			/* Parsing */
			var expr_input = $('#expr-input').val();
			var expr = new Expression(expr_input);

			/* output to_stirng conversion */
			var str_expr = expr.to_string();
			$('#expr-tostring').text(str_expr);

			/* Draw function graph on canvas */
			var canvas = $('#expr-graph-canvas')[0];
			expr.to_canvas_graph( canvas, {
				func_input: "f",
				min_y: -10,
				max_y: 10,
				min_x: -10,
				max_x: 10
			} );

			return false;
		}).click();

	});

</script>



<dl class="expr-ui-list">
	<dt>Input</dt>
	<dd>
		<textarea id="expr-input">f(t) = 4*t^-2/3</textarea>
		<input id="expr-calc" type="submit" value="Parse / calc" />
	</dd>

	<dt>Output</dt>
	<dd id="expr-tostring"></dd>

	<dt>Function graph</dt>
	<dd>
		<div style="float: left;">
			<canvas id="expr-graph-canvas" width="400" height="300"></canvas>
		</div>
	</dd>
</dl>
